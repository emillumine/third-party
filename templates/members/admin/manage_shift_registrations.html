{% extends "base.html" %}
{% load static %}

{% block additionnal_css %}
<link rel="stylesheet" href="{% static 'css/datatables/datatables.min.css' %}">
<link rel="stylesheet" href="{% static 'css/admin/manage_shift_registrations.css' %}">
<link rel="stylesheet" href="{% static 'jquery-ui-1.12.1/jquery-ui.min.css' %}">

{% endblock %}

{% block additionnal_scripts %}
  <script type="text/javascript" src="{% static 'jquery-ui-1.12.1/jquery-ui.min.js' %}"></script>
  <script type="text/javascript" src="{% static 'js/datatables/datatables.min.js' %}"></script>
  <script type="text/javascript" src="{% static 'js/notify.min.js' %}?v=1651853225"></script>
{% endblock %}

{% block content %}
<div class="page_body">
    <div id="back_to_admin_index">
      <button type="button" class="btn--danger"><i class="fas fa-arrow-left"></i>&nbsp; Retour</button>
    </div>
    <div class="login_area">
      {% include "common/conn_admin.html" %}
    </div>
    <div class="header txtcenter">
      <h1>Gestion des Présences</h1>
    </div>
    
    <div class="page_content">
      <div id="search_member_area">
        <div id="search_member_form_area">
          <h4>Rechercher un.e membre</h4>
          <form id="search_member_form" action="javascript:;" method="post">
            <input type="text" id="search_member_input" value="" placeholder="Nom ou numéro du coop..." required>
            <button type="submit" class="btn--primary" id="search_member_button">Recherche</button>
          </form>
        </div>
        <div class="search_member_results_area" style="display:none;">
          <div class="search_results_text">
            <p><i>Choisissez parmi les membres trouvés :</i></p>
          </div>
          <div class="search_member_results"></div>
        </div>
      </div>

      <div id="table_top_area">
          <h3>Liste des futurs services de <span id="member_name"></span></h3>
      </div>
      <div class="table_area">
          <table id="member_shifts_table" class="display" cellspacing="0" width="100%"></table>
      </div>
    </div>
  
    <div id="templates" style="display:none;">
        <div id="modal_delete_shift_registration">
            <p>Enlever la présence de <b><span class="member_name"></span></b> au service du <b><span class="service_name"></span></b> ?</p>
            <div id="makeup_case_explanation" style="display:none">
                <p><i class="fas fa-exclamation-triangle"></i> Ce service est un rattrapage. Le supprimer ajoutera un point au compteur de ce.tte membre.</p>
            </div>
            <br><label for="cancellation-explanation">Explication : </label><input class="" type="text" id="cancellation-explanation">
            <br><br><label for="cancellation-signature">Signature : </label><input class="" type="text" id="cancellation-signature">
        </div>
    </div>
</div>

<script src='{% static "js/all_common.js" %}?v=1651853225'></script>
<script src='{% static "js/admin/manage_shift_registrations.js" %}?v=1651853225'></script>
{% endblock %}
